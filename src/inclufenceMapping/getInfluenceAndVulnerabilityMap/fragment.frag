precision mediump float;

uniform sampler2D uInfluenceSample2;
uniform sampler2D uTensionSample2;

varying vec2 vUvs;

void main() {
  float myInfluence = texture2D(uInfluenceSample2, vUvs).r;
  float tensionMap = texture2D(uTensionSample2, vUvs).g;
  float influenceMap = -(tensionMap - 2.0 * myInfluence);

  // gl_FragColor = vec4(influenceMap, -influenceMap, tensionMap, 1.0);
  gl_FragColor = vec4(influenceMap, -influenceMap, (tensionMap - abs(influenceMap)), 1.0);
  // do not modify alpha, alpha < 1.0 changes ret of channel to 255 in extract.pixels method
}
